name: Run

on:
  [ push, pull_request, workflow_dispatch ]
  
jobs:

  main:
    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3.0.2
      with:
        submodules: 'true'

    - name: Build
      run: dotnet build -c Release

    - name: Run
      run: LibraryGenerator\bin\Release\net6.0\LibraryGenerator.exe

    - name: Upload Artifact
      uses: actions/upload-artifact@v3.1.0
      with:
        name: artifact
        path: output
